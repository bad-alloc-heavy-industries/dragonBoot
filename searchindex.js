Search.setIndex({docnames:["deploying/firmware","deploying/gateware","firmware/index","gateware/descriptors","gateware/flash","gateware/handlers/dfu","gateware/handlers/index","gateware/handlers/windows","gateware/index","gateware/luna","gateware/platforms/audioInterface","gateware/platforms/helpers/ice40","gateware/platforms/helpers/index","gateware/platforms/index","gettingStarted","index"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":5,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":2,sphinx:56},filenames:["deploying/firmware.md","deploying/gateware.md","firmware/index.md","gateware/descriptors.md","gateware/flash.md","gateware/handlers/dfu.md","gateware/handlers/index.md","gateware/handlers/windows.md","gateware/index.md","gateware/luna.md","gateware/platforms/audioInterface.md","gateware/platforms/helpers/ice40.md","gateware/platforms/helpers/index.md","gateware/platforms/index.md","gettingStarted.md","index.md"],objects:{"dragonBoot.dfu":[[5,0,1,"","DFUConfig"],[5,0,1,"","DFURequestHandler"],[5,0,1,"","DFUState"],[5,0,1,"","DFUStatus"]],"dragonBoot.dfu.DFURequestHandler":[[5,1,1,"","elaborate"],[5,1,1,"","generateROM"],[5,1,1,"","handlerCondition"],[5,1,1,"","printSlotInfo"]],"dragonBoot.dfu.DFUState":[[5,2,1,"","dfuIdle"],[5,2,1,"","downloadBusy"],[5,2,1,"","downloadIdle"],[5,2,1,"","downloadSync"],[5,2,1,"","error"],[5,2,1,"","uploadIdle"]],"dragonBoot.dfu.DFUStatus":[[5,2,1,"","ok"]],"dragonBoot.flash":[[4,0,1,"","SPIFlash"],[4,0,1,"","SPIFlashCmd"],[4,0,1,"","SPIFlashOp"]],"dragonBoot.flash.SPIFlash":[[4,1,1,"","elaborate"]],"dragonBoot.flash.SPIFlashCmd":[[4,2,1,"","pageProgram"],[4,2,1,"","readStatus"],[4,2,1,"","releasePowerDown"],[4,2,1,"","writeEnable"]],"dragonBoot.flash.SPIFlashOp":[[4,2,1,"","erase"],[4,2,1,"","none"],[4,2,1,"","write"]],"dragonBoot.ice40":[[11,2,1,"","BankOffset"],[11,2,1,"","BootAddress"],[11,2,1,"","BootMode"],[11,0,1,"","BootModes"],[11,2,1,"","Instruction"],[11,0,1,"","Opcodes"],[11,2,1,"","Payload"],[11,2,1,"","Slot"],[11,0,1,"","Slots"],[11,2,1,"","Special"],[11,0,1,"","SpecialOpcodes"]],"dragonBoot.ice40.BootModes":[[11,2,1,"","ColdBoot"],[11,2,1,"","SimpleBoot"],[11,2,1,"","WarmBoot"]],"dragonBoot.ice40.Opcodes":[[11,2,1,"","BankHeight"],[11,2,1,"","BankNumber"],[11,2,1,"","BankOffset"],[11,2,1,"","BankWidth"],[11,2,1,"","BootAddress"],[11,2,1,"","BootMode"],[11,2,1,"","CRCCheck"],[11,2,1,"","InternalOscRange"],[11,2,1,"","Special"]],"dragonBoot.ice40.Slots":[[11,1,1,"","_buildSlot"],[11,1,1,"","_buildSlots"],[11,1,1,"","build"]],"dragonBoot.ice40.SpecialOpcodes":[[11,2,1,"","BRAMData"],[11,2,1,"","CRAMData"],[11,2,1,"","Reboot"],[11,2,1,"","ResetCRC"],[11,2,1,"","Wakeup"]],"dragonBoot.ice40.dragonBoot.ice40.BankOffset":[[11,2,1,"","offset"]],"dragonBoot.ice40.dragonBoot.ice40.BootAddress":[[11,2,1,"","address"],[11,2,1,"","addressLength"]],"dragonBoot.ice40.dragonBoot.ice40.BootMode":[[11,2,1,"","mode"],[11,2,1,"","reserved"]],"dragonBoot.ice40.dragonBoot.ice40.BootMode.mode":[[11,2,1,"","ColdBoot"],[11,2,1,"","SimpleBoot"],[11,2,1,"","WarmBoot"]],"dragonBoot.ice40.dragonBoot.ice40.Instruction":[[11,2,1,"","byteCount"],[11,2,1,"","instruction"],[11,2,1,"","payload"]],"dragonBoot.ice40.dragonBoot.ice40.Instruction.instruction":[[11,2,1,"","BankHeight"],[11,2,1,"","BankNumber"],[11,2,1,"","BankOffset"],[11,2,1,"","BankWidth"],[11,2,1,"","BootAddress"],[11,2,1,"","BootMode"],[11,2,1,"","CRCCheck"],[11,2,1,"","InternalOscRange"],[11,2,1,"","Special"]],"dragonBoot.ice40.dragonBoot.ice40.Slot":[[11,2,1,"","bitstream"],[11,2,1,"","bitstreamMagic"]],"dragonBoot.ice40.dragonBoot.ice40.Slot.bitstream":[[11,2,1,"","GreedyRange"]],"dragonBoot.ice40.dragonBoot.ice40.Special":[[11,2,1,"","operation"]],"dragonBoot.ice40.dragonBoot.ice40.Special.operation":[[11,2,1,"","BRAMData"],[11,2,1,"","CRAMData"],[11,2,1,"","Reboot"],[11,2,1,"","ResetCRC"],[11,2,1,"","Wakeup"]],"dragonBoot.platform":[[11,0,1,"","DragonICE40Platform"]],"dragonBoot.platform.DragonICE40Platform":[[11,1,1,"","build"],[11,1,1,"","buildSlots"],[11,3,1,"","flash"]],"dragonBoot.platforms.audioInterface":[[10,0,1,"","AudioInterfacePlatform"]],"dragonBoot.spi":[[4,0,1,"","SPIBus"]],"dragonBoot.spi.SPIBus":[[4,1,1,"","elaborate"]],"dragonBoot.windows":[[7,0,1,"","WindowsRequestHandler"],[7,4,0,"-","descriptorSet"]],"dragonBoot.windows.WindowsRequestHandler":[[7,1,1,"","elaborate"],[7,1,1,"","handlerCondition"]],"dragonBoot.windows.descriptorSet":[[7,0,1,"","GetDescriptorSetHandler"]],"dragonBoot.windows.descriptorSet.GetDescriptorSetHandler":[[7,1,1,"","elaborate"],[7,2,1,"","elementSize"],[7,1,1,"","generateROM"]],dragonBoot:[[4,4,0,"-","spi"],[7,4,0,"-","windows"]]},objnames:{"0":["py","class","Python class"],"1":["py","method","Python method"],"2":["py","attribute","Python attribute"],"3":["py","property","Python property"],"4":["py","module","Python module"]},objtypes:{"0":"py:class","1":"py:method","2":"py:attribute","3":"py:property","4":"py:module"},terms:{"0":[4,5,6,7,11],"0000":7,"0002":7,"0x00":11,"0x00000000":11,"0x00000001":11,"0x00000002":11,"0x00000004":11,"0x00000005":11,"0x00000006":11,"0x00000007":11,"0x00000008":11,"0x00000009":11,"0x01":11,"0x03":11,"0x05":11,"0x06":11,"0x08":11,"0x10":11,"0x20":11,"0xff":11,"1":[4,11],"10":5,"13mhz":10,"16":[7,11],"171":4,"2":[4,5,7,11],"2125109630":11,"24":4,"28":11,"3":[4,5,11],"32":11,"4":[5,7,11],"5":[4,5,11],"6":[4,11],"60mhz":10,"7":11,"8":[4,7,11],"9":[5,11],"abstract":11,"byte":[4,7,11],"class":[4,5,7,10,11],"const":11,"default":[7,10,11],"do":[10,11],"enum":11,"final":4,"function":[6,11],"import":8,"int":[7,11],"new":15,"return":[4,11],"short":11,"static":11,"switch":11,"true":11,A:[4,10,11],As:6,For:[11,13],If:15,It:11,No:4,On:4,The:[6,7,8,10,11],To:[11,12],_buildslot:11,access:10,acknowledg:4,action:4,address:[4,7,11],addresslength:11,adn:4,advanc:15,after:11,aid:[11,12,13],align:7,all:[7,11],allow:[7,10,11],along:6,also:[10,11],alt:4,amaranth:[4,5,7,11,12],amount:7,an:[4,5,7,11,15],ani:[11,13],append:11,ar:[11,13,15],area:11,arg:[4,5,7],ask:11,associ:[7,10],audio:13,audiointerfac:10,audiointerfaceplatform:10,automat:11,auxilari:11,bankheight:11,banknumb:11,bankoffset:11,bankwidth:11,bare:10,base:[8,11],becaus:11,been:[11,12],begin:[4,11],beginaddr:4,beginaddress:11,behaviour:4,being:[4,11],belong:7,below:4,big:11,binari:14,bit:11,bitsinteg:11,bitstream:11,bitstreammag:11,bitstruct:11,block:11,board:10,boilerpl:11,boot:11,bootaddress:11,bootload:[11,15],bootmod:11,both:[11,15],boundari:7,bramdata:11,bu:4,buffer:4,build:11,build_dir:11,builder:11,buildplan:11,buildproduct:11,buildslot:11,bytearrai:11,bytecount:[4,11],bytesinteg:11,calcul:11,call:11,can:[4,11],capabl:11,check:15,chip:4,choic:14,choos:14,cli:11,clock:[7,10],code:7,cold:11,coldboot:11,come:11,command:4,complet:[4,6],compon:8,compris:[4,8],configur:[10,11],consist:[7,11],constant:11,construct:11,constructor:11,contain:[7,11],control:[6,8],correct:11,count:4,cover:11,cramdata:11,crccheck:11,creat:11,cs:4,current:4,cycl:4,d:11,data:[4,7,11],defin:[4,10,11,12,13],depend:[11,14],deploi:14,describ:[4,10,11],descript:4,descriptor:[6,7,11],descriptorcollect:7,descriptorset:7,design:4,detail:11,determin:7,develop:13,devic:[4,8,10,11,14],dfu:[6,15],dfuconfig:5,dfuidl:5,dfurequesthandl:5,dfustat:5,dfustatu:5,dict:11,dictionari:11,do_build:11,do_program:11,document:[13,15],domain:7,done:[4,11],downloadbusi:5,downloadidl:5,downloadsync:5,dragonboot:[4,5,7,10,11,13,14],dragonice40platform:11,dragonmux:13,dsl:[4,5,7],dupliat:11,each:[7,11,12],either:[4,11,14],elabor:[4,5,7],elaborat:11,elements:7,encod:11,end:[4,11],endaddr:4,endaddress:11,endian:11,endpoint:6,enforc:11,engin:4,enter:[4,11],entir:[6,11],entri:7,enumer:[4,5],ep0:7,equal:4,eras:[4,11],eraseaddr:4,erasepages:4,error:5,explain:4,express:11,extrem:[10,11],facilit:11,fals:11,famili:12,few:8,field:7,fifo:4,finish:4,firmwar:14,first:[7,11],fix:11,flagsenum:11,flash:[5,8,10,11],fly:10,follow:11,form:6,formatfield:11,fpga:[11,12,15],framework:6,from:[4,6,10,11],fulli:4,further:[4,11],gatewar:[4,5,6,7,8,10,11,14],gd25q40c:10,gener:[7,11],generaterom:[5,7],get:[7,15],getdescriptorset:7,getdescriptorsethandl:7,given:11,go:[4,11],good:[10,11],greedyrang:11,guid:15,ha:[7,11],handl:[6,7],handler:8,handlercondit:[5,7],handshak:7,have:[10,11,12],hdl:[4,5,7],headphoneamp:13,helper:13,hold:7,host:4,how:[11,14],hs:10,i:7,ice40:12,icestorm:[10,11],identifi:4,idl:4,imag:11,implement:[11,12,13],includ:11,incom:4,index:7,indic:[4,7],initi:11,initialis:4,inner:11,input:4,instead:7,instruct:[4,11,13],integ:11,interfac:[5,7,13],intern:4,internaloscrang:11,invert:4,its:[4,10,11],itself:4,just:15,kwarg:[4,5,7,11],last:4,lattic:11,layout:11,length:7,list:11,load:4,locat:11,logic:11,look:14,luna:[5,6,7,8],main:11,major:4,max:11,maximum:7,maxpacketlength:7,meet:11,mem:7,memori:7,microcontrol:15,minimum:10,mode:[4,11],modul:[4,5,7],multi:11,multipl:4,must:11,name:11,need:[4,13],next:[4,7,11],non:4,none:[4,11],normal:11,note:[4,11],number:[4,11,13],o:7,object:[10,11],offset:11,ok:5,onc:11,onli:11,opcod:[4,11],oper:[4,10,11],option:11,order:11,other:11,otherwis:[10,11],our:[7,10],out:[4,10,11,15],output:4,overarch:4,packet:7,pad:[7,11],page:[4,11],pageprogram:4,pair:11,paramet:[4,7,10,11],part:4,partit:11,pass:[4,11],payload:11,pend:4,per:11,perform:[10,11],phy:10,place:11,placement:[10,11],platform:[4,5,6,8],platformdescriptorcollect:7,pleas:15,por:11,port:7,portion:6,posit:7,presenc:11,printslotinfo:5,prior:4,produc:10,program:11,program_opt:11,progress:4,project:15,proper:11,properti:11,protocol:4,provid:10,puls:7,qualifi:4,r_data:4,raw:11,read:[4,11],readaddr:4,readi:4,readstatu:4,reason:[10,11],reboot:11,rebuild:11,rebuilt:11,reconfigur:11,reduc:11,regardless:14,releasepowerdown:4,request:[4,8,11],requir:[4,11],requri:10,reserv:11,reset:4,resetaddr:4,resetcrc:11,resourc:[4,10,13],respond:7,respons:[7,10],result:14,retriev:11,rewrit:4,right:4,rom:7,room:11,rout:[10,11,14],run:11,runtim:11,s:[7,10,11],same:11,section:13,sector:[4,11],see:[4,11],select:4,self:11,sequenc:4,set:[4,7,11],setup:[5,7],setuppacket:[5,7],should:[7,10,11],sign:11,signal:4,simpleboot:11,sit:11,size:11,slot:4,so:[4,11],sourc:10,special:[11,12,13],specialopcod:11,specif:[4,6,11],specifi:7,spi:[8,10],spibu:4,spiflash:4,spiflashcmd:4,spiflashop:4,spiflashprogramm:11,src_loc_at:[4,5,7],stall:7,standard:6,start:[4,7,11,15],startposit:7,str:11,stream:7,string:7,strobe:[4,7],struct:11,structur:11,suffici:11,suitabl:14,support:[12,13],swap:10,synthesi:[10,11],synthesis:4,system:4,talk:4,target:[11,13,14],task:10,thi:[4,6,7,10,11,13,15],those:13,three:6,through:[4,6,11],till:11,togeth:11,tool:11,toolchain:[10,11],toolchain_program:11,top:11,transfer:4,transmit:7,tupl:7,two:[4,11],tx:7,type:[4,11,12],unconfigur:11,underli:[4,11],union:11,unless:[10,11],unset:11,unsign:11,until:[4,11],up:4,upgrad:[10,11],upli:10,uploadidl:5,us:[4,6,7,10,11,13],usb3318:10,usb:[5,6,7,8,10,15],usbinstreaminterfac:7,user:11,usual:4,valid:11,valu:[4,5,11],variabl:4,vendor:7,via:[10,11],w_data:4,wai:11,wakeup:11,want:14,warmboot:[4,11],we:11,when:[4,7,11],where:[4,11],which:[4,10,11],window:6,windowsrequesthandl:7,work:11,write:[4,11],writeaddr:4,writeen:4,written:[4,11],xfer:4,you:[10,11,14,15],your:[11,13,14]},titles:["Deploying the firmware","Deploying the gateware","dragonBoot for microcontroller","USB Descriptors","The SPI Flash controller","DFU Request Handler","Request Handlers","Windows Platform-Specific Request Handler","dragonBoot for FPGA","The LUNA-based USB Device","dragonmux/HeadphoneAmp audio interface platform","iCE40 Platform Helper","Platform Helpers","Platforms","Getting Started","dragonBoot"],titleterms:{The:[4,9],audio:10,base:9,control:4,deploi:[0,1],descriptor:3,devic:9,dfu:5,dragonboot:[2,8,15],dragonmux:10,firmwar:0,flash:4,fpga:8,gatewar:1,get:14,handler:[5,6,7],headphoneamp:10,helper:[11,12],ice40:11,interfac:10,luna:9,microcontrol:2,platform:[7,10,11,12,13],request:[5,6,7],slot:11,specif:7,spi:4,start:14,system:11,usb:[3,9],window:7}})